(()=>{"use strict";var e={449:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var d=a(564);const{default:s}=a(171),n=(e,t,a,s,n=!1)=>{let r=[e,t,a,s,n],l=document.createElement("div");l.classList.add("task-wrapper");let o=document.createElement("div");o.classList.add("task-header");let c=document.createElement("h3");c.textContent=e;let i=document.createElement("p");o.appendChild(c),o.appendChild(i),l.appendChild(o);let p=document.createElement("div");p.classList.add("task-body"),p.classList.add("hidden");let u=document.createElement("div");u.classList.add("task-body-header");let m=document.createElement("div");m.textContent="Priority: "+s,m.classList.add("priority"),u.appendChild(m);let h=document.createElement("div");h.classList.add("icon-wrapper"),((e,t)=>{let a=document.createElement("span");a.classList.add("material-icons"),a.textContent="delete",e.appendChild(a),a.addEventListener("click",(()=>{window.confirm("Do you really want to delete this task?")&&t.remove()}))})(h,l);let v=((e,t,a,d)=>{let s=document.createElement("span");return s.classList.add("material-icons"),s.textContent="check_circle",e.appendChild(s),!0===t?(s.style.color="rgb(46, 181, 57)",a.textContent="Completed!"):(s.style.color="rgb(51, 51, 51)",a.textContent="Due: "+d),s})(h,n,i,a);v.addEventListener("click",(()=>{"rgb(46, 181, 57)"!==v.style.color?(v.style.color="rgb(46, 181, 57)",i.textContent="Completed!",r[4]=!0):(v.style.color="rgb(51, 51, 51)",i.textContent="Due: "+a,r[4]=!1)})),u.appendChild(h),p.appendChild(u);let b=document.createElement("div");b.textContent=t,b.classList.add("task-description"),p.appendChild(b),b.setAttribute("contenteditable",!0),new MutationObserver((()=>{r[1]=b.textContent})).observe(b,{characterData:!0,subtree:!0}),l.appendChild(p),d.default.publish("addTaskToProject",l),d.default.publish("saveTaskInfo",r),o.addEventListener("click",(()=>{p.classList.contains("hidden")?p.classList.remove("hidden"):p.classList.add("hidden")}))}},171:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});const d=(()=>{let e;const t=document.getElementById("container");return{setTargetedProject:t=>{e=t},getTargetedProject:()=>e,getPageContainer:()=>t}})()},564:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});const d={events:{},publish:function(e,t){Array.isArray(this.events[e])&&this.events[e].forEach((e=>{e(t)}))},subscribe:function(e,t){Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t)}}}},t={};function a(d){if(t[d])return t[d].exports;var s=t[d]={exports:{}};return e[d](s,s.exports,a),s.exports}a.d=(e,t)=>{for(var d in t)a.o(t,d)&&!a.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:t[d]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const{default:e}=a(449),{default:t}=a(564),{default:d}=a(171);var s=a(171),n=a(564);const{default:r}=a(564),l=e=>{let t=(e=>{let t=document.createElement("div");t.classList.add("project-wrapper");let a=document.createElement("div");a.classList.add("project-details");let d=document.createElement("div");d.classList.add("project-header");let l=document.createElement("h2");l.textContent=e;let o=document.createElement("p");d.appendChild(l),d.appendChild(o);let c=document.createElement("button");c.classList.add("add-btn"),c.textContent="+",c.addEventListener("click",(()=>{r.publish("showTaskForm",a)})),a.appendChild(d);let i=(e=>{let t=document.createElement("span");return t.classList.add("material-icons"),t.classList.add("hidden"),t.textContent="delete",e.appendChild(t),t})(a);a.appendChild(c),t.appendChild(a);let p=((e,t)=>{let a=[],d=document.createElement("div");e.parentNode.append(d),d.classList.add("tasks-wrapper");const r=()=>{d.classList.remove("hidden"),t.classList.remove("hidden")};return e.addEventListener("click",(e=>{"BUTTON"!==e.target.tagName&&"SPAN"!==e.target.tagName&&(t.classList.contains("hidden")?r():(d.classList.add("hidden"),t.classList.add("hidden")))})),n.default.subscribe("addTaskToProject",(t=>{var a;s.default.getTargetedProject()===e&&(a=t,d.appendChild(a),r())})),n.default.subscribe("saveTaskInfo",(t=>{s.default.getTargetedProject()===e&&a.push(t)})),a})(a,i);return{projectDiv:t,projectDetailsWrapper:a,deleteIcon:i,projectName:e,childObjects:p}})(e);return t.deleteIcon.addEventListener("click",(()=>{window.confirm("Do you really want to delete this project?")&&(t.projectDiv.remove(),r.publish("removeProject",t))})),t};var o;(()=>{let a=document.getElementsByClassName("task-form-wrapper")[0],s=document.getElementById("create-task-form"),n=document.getElementById("close-task-form-btn");s.addEventListener("submit",(e=>{e.preventDefault(),t.publish("createTask",s)}));const r=()=>{a.classList.add("hidden")};n.addEventListener("click",r),t.subscribe("showTaskForm",(e=>{a.classList.remove("hidden");let t=e;d.setTargetedProject(t)})),t.subscribe("createTask",(t=>{e(t.elements[0].value,t.elements[1].value,t.elements[2].value,t.elements[3].value),t.reset()})),t.subscribe("createTask",r),t.subscribe("loadTask",(t=>{e(...t)}))})(),o=(()=>{let e=[],t=document.getElementsByClassName("project-form-wrapper")[0],a=document.getElementById("create-project-form");const d=d=>{let n=l(d);return e.push(n),s.default.getPageContainer().appendChild(n.projectDiv),a.reset(),t.classList.add("hidden"),n};return document.getElementById("add-project-btn").addEventListener("click",(()=>{t.classList.remove("hidden")})),a.addEventListener("submit",(e=>{e.preventDefault();let t=a.elements[0].value;n.default.publish("createProject",t)})),n.default.subscribe("createProject",d),n.default.subscribe("removeProject",(t=>{let a;for(let d=0;d<e.length;d++)if(t===e[d]){a=d;break}e.splice(a,1)})),{projects:e,createProject:d}})(),window.addEventListener("load",(function(){if(localStorage.getItem("to-do-list")){let e=JSON.parse(localStorage.getItem("to-do-list"));for(let t of e){let e=o.createProject(t.projectName);s.default.setTargetedProject(e.projectDetailsWrapper);for(let e of t.childObjects)n.default.publish("loadTask",e)}}})),window.addEventListener("unload",(function(){localStorage.setItem("to-do-list",JSON.stringify(o.projects))}))})()})();